import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as a,o as r,c as d,a as e,b as n,d as o,w as l,e as c}from"./app-4_lSd4gi.js";const h={},u=e("blockquote",null,[e("p",null,[n("记录的insomnia版本是"),e("code",null,"2020.4.1"),n("，最新版可能已经解决以下的一些痛点")])],-1),_=e("p",null,"Insomnia是用来测试API的工具（开源、部分功能收费）。同类产品如Postman(闭源商业软件)、Hoppscotch（开源免费，原Postwoman）。",-1),m=e("h2",{id:"单元测试相关",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#单元测试相关","aria-hidden":"true"},"#"),n(" 单元测试相关")],-1),p=e("p",null,"Insomnia单元测试并不强大，遇到了不少坑。以下是我整理一些有参考价值的。",-1),b=e("h3",{id:"_1-如何修改单元测试的顺序",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-如何修改单元测试的顺序","aria-hidden":"true"},"#"),n(" 1. 如何修改单元测试的顺序？")],-1),g=e("code",null,"insomnia.UnitTest.db",-1),f={href:"https://jsonlines.org/",target:"_blank",rel:"noopener noreferrer"},x=e("code",null,"created",-1),v=c(`<h3 id="_2-某一单元测试失败后如何终止" tabindex="-1"><a class="header-anchor" href="#_2-某一单元测试失败后如何终止" aria-hidden="true">#</a> 2. 某一单元测试失败后如何终止？</h3><p>粗暴的做法是直接删除请求的方法。后面的请求都不会被发送。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>insomnia.sendRequest = null
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-同一组单元测试如何传递变量" tabindex="-1"><a class="header-anchor" href="#_3-同一组单元测试如何传递变量" aria-hidden="true">#</a> 3. 同一组单元测试如何传递变量？</h3><p>还是简单粗暴，直接借用global全局对象</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>global.temp = {foo: &quot;bar&quot;}
console.log(global.temp.foo) //bar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-如何动态修改请求header、body" tabindex="-1"><a class="header-anchor" href="#_4-如何动态修改请求header、body" aria-hidden="true">#</a> 4. 如何动态修改请求Header、body？</h3>`,7),k={href:"https://github.com/Kong/insomnia/pull/2994",target:"_blank",rel:"noopener noreferrer"},q=e("p",null,"或者",-1),I={href:"https://github.com/ame-yu/insomnia-plugin-req-tamper",target:"_blank",rel:"noopener noreferrer"},y=e("h3",{id:"参考",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考","aria-hidden":"true"},"#"),n(" 参考")],-1),N={href:"https://github.com/Kong/insomnia",target:"_blank",rel:"noopener noreferrer"};function L(P,R){const t=a("ExternalLinkIcon"),s=a("RouterLink");return r(),d("div",null,[u,_,m,p,b,e("p",null,[n("直接修改insomnia data里的"),g,n("是"),e("a",f,[n("行格式JSON"),o(t)]),n("。 排序的字段"),x,n("（创建时间）。")]),e("p",null,[n("直接修改不方便，可以用我写的网页辅助一下 "),o(s,{to:"/demo/insomnia-testsuit-order-editor.html"},{default:l(()=>[n("insomnia-testsuit-order-editor")]),_:1})]),v,e("p",null,[n("改Insomnia源码对send方法进行拓展（如这个"),e("a",k,[n("PR"),o(t)]),n("）")]),q,e("p",null,[n("使用利用插件注册requestHooks，对请求进行修改。 可以使用、参考我写的这个插件。 "),e("a",I,[n("ame-yu/insomnia-plugin-req-tamper"),o(t)])]),y,e("ol",null,[e("li",null,[e("a",N,[n("https://github.com/Kong/insomnia"),o(t)])])])])}const B=i(h,[["render",L],["__file","insomnia-tips.html.vue"]]);export{B as default};
