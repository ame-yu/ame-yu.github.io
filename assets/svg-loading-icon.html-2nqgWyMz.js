import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as i,c,a as n,b as s,d as e,e as t}from"./app-8eSxikLu.js";const l="/images/svg_loading.gif",r="/images/design_svg.png",u={},d=n("h2",{id:"svg-动画",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#svg-动画","aria-hidden":"true"},"#"),s(" SVG 动画")],-1),k=n("p",null,"在早期SVG1.1的规范中，SVG的是只能行内样式的。",-1),v=n("p",null,[s("到了SVG2，除了行内样式还支持svg使用"),n("code",null,"link"),s("标签像HTML一样导入CSS。同时SVG的元素还可以使用"),n("code",null,"id"),s("、"),n("code",null,"class"),s("属性，页面CSS同样可以通过选择器对其产生效果。")],-1),m={href:"https://www.w3.org/TR/2018/CR-SVG2-20181004/styling.html#StylingUsingCSS",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.w3.org/TR/smil/smil-animation.html",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"SMIL 3.0",-1),g={href:"https://en.wikipedia.org/wiki/Synchronized_Multimedia_Integration_Language#Software",target:"_blank",rel:"noopener noreferrer"},f=t('<h2 id="本文demo" tabindex="-1"><a class="header-anchor" href="#本文demo" aria-hidden="true">#</a> 本文Demo</h2><p>预期目标如图</p><figure><img src="'+l+'" alt="R6S Loading" tabindex="0" loading="lazy"><figcaption>R6S Loading</figcaption></figure><h2 id="section1-绘制" tabindex="-1"><a class="header-anchor" href="#section1-绘制" aria-hidden="true">#</a> Section1. 绘制</h2>',4),_={href:"https://www.figma.com/",target:"_blank",rel:"noopener noreferrer"},y={href:"https://gitlab.com/inkscape/inkscape",target:"_blank",rel:"noopener noreferrer"},w=t('<ul><li>rect</li><li>circle</li><li>line</li><li>ellipse</li><li>polyline</li><li>polygon</li></ul><p>这个Loading仅三个元素。 外框和对勾使用path就可以，中间的白条则使用rect更合适。</p><figure><img src="'+r+`" alt="设计过程" tabindex="0" loading="lazy"><figcaption>设计过程</figcaption></figure><h2 id="section2-为元素增加样式" tabindex="-1"><a class="header-anchor" href="#section2-为元素增加样式" aria-hidden="true">#</a> Section2. 为元素增加样式</h2><p>在设计SVG的时候预留id或者class方便导入后直接用CSS进行操作。</p><p>页面中去更改SVG内的class名称感觉并不是一个好主意。对于大部分前端框架来说SVG内的标签并不是标准的H5标签。</p><p>所以我使用CSS变量操作颜色，并把svg包裹起来，通过改变父元素的class来改变图标的显示状态。</p><details><summary>CSS代码</summary><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token comment">/* 默认loading颜色 */</span>
<span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--box-outline</span><span class="token punctuation">:</span> #9a9a9a<span class="token punctuation">;</span>
  <span class="token property">--check-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">--bar-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 完成加载的颜色 */</span>
<span class="token selector">.done</span> <span class="token punctuation">{</span>
  <span class="token property">--box-outline</span><span class="token punctuation">:</span> #17d<span class="token punctuation">;</span>
  <span class="token property">--bar-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">--check-color</span><span class="token punctuation">:</span> #17d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#outbox</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> fill 0.3s<span class="token punctuation">;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--box-outline<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#bar</span> <span class="token punctuation">{</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bar-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.01<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% 55%<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> roll 3s ease forwards infinite<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#check</span> <span class="token punctuation">{</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--check-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> roll</span> <span class="token punctuation">{</span>
  <span class="token selector">10%</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.01<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">80%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>720deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">90%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.01<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="result" tabindex="-1"><a class="header-anchor" href="#result" aria-hidden="true">#</a> Result</h2><p>🎉 完成</p><iframe src="https://codesandbox.io/embed/r6s-prepare-phase-loading-m9y0d?fontsize=14&amp;hidenavigation=1&amp;theme=dark&amp;view=preview" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden;" title="R6S-prepare-phase-loading" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>`,11),S={href:"https://codesandbox.io/s/m9y0d",target:"_blank",rel:"noopener noreferrer"},x=n("h3",{id:"参考",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考","aria-hidden":"true"},"#"),s(" 参考")],-1),V={href:"https://en.wikipedia.org/wiki/Scalable_Vector_Graphics",target:"_blank",rel:"noopener noreferrer"},G={href:"https://www.youtube.com/watch?v=UTHgr6NLeEw",target:"_blank",rel:"noopener noreferrer"},L={href:"https://caniuse.com/?search=svg",target:"_blank",rel:"noopener noreferrer"},C={href:"https://datatracker.ietf.org/doc/draft-brownlee-svg-rfc/13/",target:"_blank",rel:"noopener noreferrer"};function I(R,N){const a=p("ExternalLinkIcon");return i(),c("div",null,[d,k,v,n("p",null,[s("在这份"),n("a",m,[s("候选推荐标准"),e(a)]),s("中规定了SVG样式")]),n("p",null,[s("那为什么不使用"),n("a",h,[s("SMIL"),e(a)]),s("? 尽管SMIL可以比CSS与SVG结合更紧密，但是目前使用的"),b,s("距今已经十多个年头了，而且有不小的学习成本。主流浏览器将会在其替代品发展充分后弃用这个标准"),n("sup",null,[n("a",g,[s("1"),e(a)])]),s("。")]),f,n("p",null,[s("SVG绘制可以用Photoshop也可以使用"),n("a",_,[s("Figama"),e(a)]),s(",本文使用的是开源的SVG作图客户端——"),n("a",y,[s("Inkscape"),e(a)]),s("。具体绘制工具操作不一样，但是都是绘制SVG中的六大元素。")]),w,n("p",null,[n("a",S,[s("https://codesandbox.io/s/m9y0d"),e(a)])]),x,n("ol",null,[n("li",null,[n("a",V,[s("https://en.wikipedia.org/wiki/Scalable_Vector_Graphics"),e(a)])]),n("li",null,[n("a",G,[s("https://www.youtube.com/watch?v=UTHgr6NLeEw"),e(a)])]),n("li",null,[n("a",L,[s("https://caniuse.com/?search=svg"),e(a)])]),n("li",null,[n("a",C,[s("https://datatracker.ietf.org/doc/draft-brownlee-svg-rfc/13/"),e(a)])])])])}const M=o(u,[["render",I],["__file","svg-loading-icon.html.vue"]]);export{M as default};
