import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,d as n,a as s,b as t,e as r,f as l,r as p,o as d}from"./app-18ZGpgkT.js";const m={};function h(c,e){const a=p("RouteLink");return d(),i("div",null,[e[2]||(e[2]=n('<blockquote><p>记录的insomnia版本是<code>2020.4.1</code>，最新版可能已经解决以下的一些痛点</p></blockquote><p>Insomnia是用来测试API的工具（开源、部分功能收费）。同类产品如Postman(闭源商业软件)、Hoppscotch（开源免费，原Postwoman）。</p><h2 id="单元测试相关" tabindex="-1"><a class="header-anchor" href="#单元测试相关"><span>单元测试相关</span></a></h2><p>Insomnia单元测试并不强大，遇到了不少坑。以下是我整理一些有参考价值的。</p><h3 id="_1-如何修改单元测试的顺序" tabindex="-1"><a class="header-anchor" href="#_1-如何修改单元测试的顺序"><span>1. 如何修改单元测试的顺序？</span></a></h3><p>直接修改insomnia data里的<code>insomnia.UnitTest.db</code>是<a href="https://jsonlines.org/" target="_blank" rel="noopener noreferrer">行格式JSON</a>。 排序的字段<code>created</code>（创建时间）。</p>',6)),s("p",null,[e[1]||(e[1]=t("直接修改不方便，可以用我写的网页辅助一下 ")),r(a,{to:"/demo/insomnia-testsuit-order-editor.html"},{default:l(()=>e[0]||(e[0]=[t("insomnia-testsuit-order-editor")])),_:1})]),e[3]||(e[3]=n(`<h3 id="_2-某一单元测试失败后如何终止" tabindex="-1"><a class="header-anchor" href="#_2-某一单元测试失败后如何终止"><span>2. 某一单元测试失败后如何终止？</span></a></h3><p>粗暴的做法是直接删除请求的方法。后面的请求都不会被发送。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>insomnia.sendRequest = null</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-同一组单元测试如何传递变量" tabindex="-1"><a class="header-anchor" href="#_3-同一组单元测试如何传递变量"><span>3. 同一组单元测试如何传递变量？</span></a></h3><p>还是简单粗暴，直接借用global全局对象</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>global.temp = {foo: &quot;bar&quot;}</span></span>
<span class="line"><span>console.log(global.temp.foo) //bar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-如何动态修改请求header、body" tabindex="-1"><a class="header-anchor" href="#_4-如何动态修改请求header、body"><span>4. 如何动态修改请求Header、body？</span></a></h3><p>改Insomnia源码对send方法进行拓展（如这个<a href="https://github.com/Kong/insomnia/pull/2994" target="_blank" rel="noopener noreferrer">PR</a>）</p><p>或者</p><p>使用利用插件注册requestHooks，对请求进行修改。 可以使用、参考我写的这个插件。 <a href="https://github.com/ame-yu/insomnia-plugin-req-tamper" target="_blank" rel="noopener noreferrer">ame-yu/insomnia-plugin-req-tamper</a></p><h3 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h3><ol><li><a href="https://github.com/Kong/insomnia" target="_blank" rel="noopener noreferrer">https://github.com/Kong/insomnia</a></li></ol>`,12))])}const b=o(m,[["render",h],["__file","insomnia-tips.html.vue"]]),k=JSON.parse('{"path":"/posts/devops/insomnia-tips.html","title":"Insomnia填坑记录","lang":"zh-CN","frontmatter":{"title":"Insomnia填坑记录","date":"2021-11-13T00:00:00.000Z","category":"运维","tag":["测试"],"description":"记录的insomnia版本是2020.4.1，最新版可能已经解决以下的一些痛点 Insomnia是用来测试API的工具（开源、部分功能收费）。同类产品如Postman(闭源商业软件)、Hoppscotch（开源免费，原Postwoman）。 单元测试相关 Insomnia单元测试并不强大，遇到了不少坑。以下是我整理一些有参考价值的。 1. 如何修改单元...","head":[["meta",{"property":"og:url","content":"https://ame-yu.github.io/posts/devops/insomnia-tips.html"}],["meta",{"property":"og:site_name","content":"KyleZhou个人博客"}],["meta",{"property":"og:title","content":"Insomnia填坑记录"}],["meta",{"property":"og:description","content":"记录的insomnia版本是2020.4.1，最新版可能已经解决以下的一些痛点 Insomnia是用来测试API的工具（开源、部分功能收费）。同类产品如Postman(闭源商业软件)、Hoppscotch（开源免费，原Postwoman）。 单元测试相关 Insomnia单元测试并不强大，遇到了不少坑。以下是我整理一些有参考价值的。 1. 如何修改单元..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-29T05:10:15.000Z"}],["meta",{"property":"article:tag","content":"测试"}],["meta",{"property":"article:published_time","content":"2021-11-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-29T05:10:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Insomnia填坑记录\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-11-13T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-29T05:10:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Kyle Zhou\\"}]}"]]},"headers":[{"level":2,"title":"单元测试相关","slug":"单元测试相关","link":"#单元测试相关","children":[{"level":3,"title":"1. 如何修改单元测试的顺序？","slug":"_1-如何修改单元测试的顺序","link":"#_1-如何修改单元测试的顺序","children":[]},{"level":3,"title":"2. 某一单元测试失败后如何终止？","slug":"_2-某一单元测试失败后如何终止","link":"#_2-某一单元测试失败后如何终止","children":[]},{"level":3,"title":"3. 同一组单元测试如何传递变量？","slug":"_3-同一组单元测试如何传递变量","link":"#_3-同一组单元测试如何传递变量","children":[]},{"level":3,"title":"4. 如何动态修改请求Header、body？","slug":"_4-如何动态修改请求header、body","link":"#_4-如何动态修改请求header、body","children":[]},{"level":3,"title":"参考","slug":"参考","link":"#参考","children":[]}]}],"git":{"createdTime":1638523144000,"updatedTime":1730178615000,"contributors":[{"name":"ame-yu","email":"lueu@live.com","commits":2}]},"readingTime":{"minutes":1.1,"words":330},"filePathRelative":"posts/devops/insomnia-tips.md","localizedDate":"2021年11月13日","excerpt":"<blockquote>\\n<p>记录的insomnia版本是<code>2020.4.1</code>，最新版可能已经解决以下的一些痛点</p>\\n</blockquote>\\n<p>Insomnia是用来测试API的工具（开源、部分功能收费）。同类产品如Postman(闭源商业软件)、Hoppscotch（开源免费，原Postwoman）。</p>\\n<h2>单元测试相关</h2>\\n<p>Insomnia单元测试并不强大，遇到了不少坑。以下是我整理一些有参考价值的。</p>\\n<h3>1. 如何修改单元测试的顺序？</h3>\\n<p>直接修改insomnia data里的<code>insomnia.UnitTest.db</code>是<a href=\\"https://jsonlines.org/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">行格式JSON</a>。\\n排序的字段<code>created</code>（创建时间）。</p>","autoDesc":true}');export{b as comp,k as data};
